import type { State, Country } from "@/types";

// 2026 projected data from Census, RBI, NITI Aayog
// HDI data source: UNDP HDI (2023) - Latest official state-wise Human Development Index
// 28 States + 8 Union Territories
// City tiers: Tier 1 = metros, Tier 2 = regional centers, Tier 3 = smaller cities

export const states: State[] = [
  // === STATES (28) ===
  {
    id: "AP",
    name: "Andhra Pradesh",
    code: "AP",
    capital: "Amaravati",
    region: "South",
    population: 53200000,
    area: 162968,
    density: 326,
    literacyRate: 72.6,
    sexRatio: 1045,
    gdp: 1589000,
    hdi: 0.681,
    cities: [
      { id: "VIJ", name: "Vijayawada", stateId: "AP", population: 1240000, area: 61, isCapital: false, isMetro: false, tier: 2 },
      { id: "AMR", name: "Amaravati", stateId: "AP", population: 125000, area: 217, isCapital: true, isMetro: false, tier: 3 },
    ],
  },
  {
    id: "AR",
    name: "Arunachal Pradesh",
    code: "AR",
    capital: "Itanagar",
    region: "Northeast",
    population: 1570000,
    area: 83743,
    density: 19,
    literacyRate: 84.2,
    sexRatio: 1011,
    gdp: 48000,
    hdi: 0.722,
    cities: [
      { id: "ITN", name: "Itanagar", stateId: "AR", population: 60000, area: 25, isCapital: true, isMetro: false, tier: 3 },
      { id: "NHG", name: "Naharlagun", stateId: "AR", population: 35000, area: 10, isCapital: false, isMetro: false, tier: 3 },
    ],
  },
  {
    id: "AS",
    name: "Assam",
    code: "AS",
    capital: "Dispur",
    region: "Northeast",
    population: 35800000,
    area: 78438,
    density: 456,
    literacyRate: 87.0,
    sexRatio: 1012,
    gdp: 640000,
    hdi: 0.655,
    cities: [
      { id: "GHY", name: "Guwahati", stateId: "AS", population: 1150000, area: 328, isCapital: false, isMetro: true, tier: 2 },
      { id: "DSP", name: "Dispur", stateId: "AS", population: 28000, area: 5, isCapital: true, isMetro: false, tier: 3 },
      { id: "SIB", name: "Silchar", stateId: "AS", population: 205000, area: 15, isCapital: false, isMetro: false, tier: 3 },
    ],
  },
  {
    id: "BR",
    name: "Bihar",
    code: "BR",
    capital: "Patna",
    region: "East",
    population: 132800000,
    area: 94163,
    density: 1410,
    literacyRate: 74.3,
    sexRatio: 918,
    gdp: 975000,
    hdi: 0.617,
    cities: [
    ],
  },
  {
    id: "CG",
    name: "Chhattisgarh",
    code: "CG",
    capital: "Raipur",
    region: "Central",
    population: 29800000,
    area: 135191,
    density: 220,
    literacyRate: 78.5,
    sexRatio: 1015,
    gdp: 560000,
    hdi: 0.665,
    cities: [
      { id: "BHP", name: "Bhilai", stateId: "CG", population: 745000, area: 53, isCapital: false, isMetro: false, tier: 2 },
    ],
  },
  {
    id: "GA",
    name: "Goa",
    code: "GA",
    capital: "Panaji",
    region: "West",
    population: 1620000,
    area: 3702,
    density: 438,
    literacyRate: 93.6,
    sexRatio: 1027,
    gdp: 130000,
    hdi: 0.801,
    cities: [
      { id: "PNJ", name: "Panaji", stateId: "GA", population: 132000, area: 36, isCapital: true, isMetro: false, tier: 3 },
      { id: "MAR", name: "Margao", stateId: "GA", population: 108000, area: 13, isCapital: false, isMetro: false, tier: 3 },
      { id: "VGT", name: "Vasco da Gama", stateId: "GA", population: 118000, area: 39, isCapital: false, isMetro: false, tier: 3 },
    ],
  },
  {
    id: "GJ",
    name: "Gujarat",
    code: "GJ",
    capital: "Gandhinagar",
    region: "West",
    population: 72000000,
    area: 196024,
    density: 367,
    literacyRate: 84.6,
    sexRatio: 965,
    gdp: 2790000,
    hdi: 0.685,
    cities: [
    ],
  },
  {
    id: "HR",
    name: "Haryana",
    code: "HR",
    capital: "Chandigarh",
    region: "North",
    population: 30500000,
    area: 44212,
    density: 690,
    literacyRate: 84.8,
    sexRatio: 926,
    gdp: 1250000,
    hdi: 0.737,
    cities: [

    ],
  },
  {
    id: "HP",
    name: "Himachal Pradesh",
    code: "HP",
    capital: "Shimla",
    region: "North",
    population: 7500000,
    area: 55673,
    density: 135,
    literacyRate: 86.6,
    sexRatio: 993,
    gdp: 230000,
    hdi: 0.757,
    cities: [
      { id: "DRM", name: "Dharamshala", stateId: "HP", population: 62000, area: 29, isCapital: false, isMetro: false, tier: 3 },
    ],
  },
  {
    id: "JH",
    name: "Jharkhand",
    code: "JH",
    capital: "Ranchi",
    region: "East",
    population: 41500000,
    area: 79714,
    density: 520,
    literacyRate: 76.7,
    sexRatio: 1050,
    gdp: 500000,
    hdi: 0.639,
    cities: [
      { id: "JMD", name: "Jamshedpur", stateId: "JH", population: 750000, area: 64, isCapital: false, isMetro: false, tier: 2 },
    ],
  },
  {
    id: "KA",
    name: "Karnataka",
    code: "KA",
    capital: "Bengaluru",
    region: "South",
    population: 71000000,
    area: 191791,
    density: 370,
    literacyRate: 80.5,
    sexRatio: 1034,
    gdp: 2880000,
    hdi: 0.713,
    cities: [
      { id: "BLR", name: "Bengaluru", stateId: "KA", population: 9800000, area: 709, isCapital: true, isMetro: true, tier: 1 },
      { id: "HUB", name: "Hubballi-Dharwad", stateId: "KA", population: 1120000, area: 202, isCapital: false, isMetro: false, tier: 2 },
      { id: "MNG", name: "Mangaluru", stateId: "KA", population: 740000, area: 132, isCapital: false, isMetro: false, tier: 2 },
    ],
  },
  {
    id: "KL",
    name: "Kerala",
    code: "KL",
    capital: "Thiruvananthapuram",
    region: "South",
    population: 35600000,
    area: 38863,
    density: 916,
    literacyRate: 95.3,
    sexRatio: 1121,
    gdp: 1300000,
    hdi: 0.799,
    cities: [
      { id: "KOC", name: "Kochi", stateId: "KL", population: 780000, area: 94, isCapital: false, isMetro: true, tier: 1.5 },
    ],
  },
  {
    id: "MP",
    name: "Madhya Pradesh",
    code: "MP",
    capital: "Bhopal",
    region: "Central",
    population: 89900000,
    area: 308252,
    density: 291,
    literacyRate: 75.2,
    sexRatio: 970,
    gdp: 1522000,
    hdi: 0.651,
    cities: [
    ],
  },
  {
    id: "MH",
    name: "Maharashtra",
    code: "MH",
    capital: "Mumbai",
    region: "West",
    population: 130000000,
    area: 307713,
    density: 422,
    literacyRate: 86.0,
    sexRatio: 966,
    gdp: 4530000,
    hdi: 0.736,
    cities: [
      { id: "MUM", name: "Mumbai", stateId: "MH", population: 13200000, area: 603, isCapital: true, isMetro: true, tier: 1 },
    ],
  },
  {
    id: "MN",
    name: "Manipur",
    code: "MN",
    capital: "Imphal",
    region: "Northeast",
    population: 3200000,
    area: 22327,
    density: 143,
    literacyRate: 92.0,
    sexRatio: 1066,
    gdp: 45000,
    hdi: 0.725,
    cities: [
      { id: "IMP", name: "Imphal", stateId: "MN", population: 280000, area: 34, isCapital: true, isMetro: false, tier: 2 },
    ],
  },
  {
    id: "ML",
    name: "Meghalaya",
    code: "ML",
    capital: "Shillong",
    region: "Northeast",
    population: 3400000,
    area: 22429,
    density: 152,
    literacyRate: 81.0,
    sexRatio: 1039,
    gdp: 50000,
    hdi: 0.690,
    cities: [
      { id: "SHL", name: "Shillong", stateId: "ML", population: 180000, area: 64, isCapital: true, isMetro: false, tier: 3 },
      { id: "TUR", name: "Tura", stateId: "ML", population: 85000, area: 20, isCapital: false, isMetro: false, tier: 3 },
    ],
  },
  {
    id: "MZ",
    name: "Mizoram",
    code: "MZ",
    capital: "Aizawl",
    region: "Northeast",
    population: 1280000,
    area: 21081,
    density: 61,
    literacyRate: 98.2,
    sexRatio: 1018,
    gdp: 32000,
    hdi: 0.751,
    cities: [
    ],
  },
  {
    id: "NL",
    name: "Nagaland",
    code: "NL",
    capital: "Kohima",
    region: "Northeast",
    population: 2200000,
    area: 16579,
    density: 133,
    literacyRate: 82.5,
    sexRatio: 976,
    gdp: 40000,
    hdi: 0.720,
    cities: [
    ],
  },
  {
    id: "OR",
    name: "Odisha",
    code: "OR",
    capital: "Bhubaneswar",
    region: "East",
    population: 47500000,
    area: 155707,
    density: 305,
    literacyRate: 79.0,
    sexRatio: 1063,
    gdp: 900000,
    hdi: 0.649,
    cities: [
      { id: "BBR", name: "Bhubaneswar", stateId: "OR", population: 1020000, area: 135, isCapital: true, isMetro: true, tier: 2.5 },
      { id: "RRK", name: "Rourkela", stateId: "OR", population: 325000, area: 200, isCapital: false, isMetro: false, tier: 2 },
      { id: "BRM", name: "Berhampur", stateId: "OR", population: 420000, area: 86, isCapital: false, isMetro: false, tier: 2 },
    ],
  },
  {
    id: "PB",
    name: "Punjab",
    code: "PB",
    capital: "Chandigarh",
    region: "North",
    population: 31000000,
    area: 50362,
    density: 615,
    literacyRate: 81.0,
    sexRatio: 938,
    gdp: 820000,
    hdi: 0.738,
    cities: [
    ],
  },
  {
    id: "RJ",
    name: "Rajasthan",
    code: "RJ",
    capital: "Jaipur",
    region: "North",
    population: 83800000,
    area: 342239,
    density: 245,
    literacyRate: 75.8,
    sexRatio: 1009,
    gdp: 1780000,
    hdi: 0.692,
    cities: [
    ],
  },
  {
    id: "SK",
    name: "Sikkim",
    code: "SK",
    capital: "Gangtok",
    region: "Northeast",
    population: 690000,
    area: 7096,
    density: 97,
    literacyRate: 88.0,
    sexRatio: 1008,
    gdp: 48000,
    hdi: 0.753,
    cities: [
      { id: "GTK", name: "Gangtok", stateId: "SK", population: 120000, area: 19, isCapital: true, isMetro: false, tier: 3 },
      { id: "NMC", name: "Namchi", stateId: "SK", population: 15000, area: 5, isCapital: false, isMetro: false, tier: 3 },
    ],
  },
  {
    id: "TN",
    name: "Tamil Nadu",
    code: "TN",
    capital: "Chennai",
    region: "South",
    population: 77600000,
    area: 130058,
    density: 596,
    literacyRate: 85.0,
    sexRatio: 1088,
    gdp: 3118000,
    hdi: 0.732,
    cities: [
    ],
  },
  {
    id: "TG",
    name: "Telangana",
    code: "TG",
    capital: "Hyderabad",
    region: "South",
    population: 40200000,
    area: 112077,
    density: 358,
    literacyRate: 76.9,
    sexRatio: 1049,
    gdp: 1650000,
    hdi: 0.699,
    cities: [
      { id: "WRG", name: "Warangal", stateId: "TG", population: 820000, area: 55, isCapital: false, isMetro: false, tier: 2 },
    ],
  },
  {
    id: "TR",
    name: "Tripura",
    code: "TR",
    capital: "Agartala",
    region: "Northeast",
    population: 4100000,
    area: 10486,
    density: 391,
    literacyRate: 93.7,
    sexRatio: 1011,
    gdp: 72000,
    hdi: 0.664,
    cities: [
      { id: "AGT", name: "Agartala", stateId: "TR", population: 520000, area: 76, isCapital: true, isMetro: false, tier: 2 },
      { id: "DHM", name: "Dharmanagar", stateId: "TR", population: 42000, area: 8, isCapital: false, isMetro: false, tier: 3 },
    ],
  },
  {
    id: "UP",
    name: "Uttar Pradesh",
    code: "UP",
    capital: "Lucknow",
    region: "North",
    population: 243466000,
    area: 240928,
    density: 1010,
    literacyRate: 78.2,
    sexRatio: 1017,
    gdp: 3080000,
    hdi: 0.650,
    cities: [
      { id: "KAN", name: "Kanpur", stateId: "UP", population: 3100000, area: 403, isCapital: false, isMetro: true, tier: 2 },

    ],
  },
  {
    id: "UK",
    name: "Uttarakhand",
    code: "UK",
    capital: "Dehradun",
    region: "North",
    population: 11800000,
    area: 53483,
    density: 221,
    literacyRate: 87.6,
    sexRatio: 984,
    gdp: 420000,
    hdi: 0.722,
    cities: [
      { id: "RSK", name: "Rishikesh", stateId: "UK", population: 125000, area: 11, isCapital: false, isMetro: false, tier: 3 },
      { id: "HLD", name: "Haldwani", stateId: "UK", population: 188000, area: 14, isCapital: false, isMetro: false, tier: 3 },
    ],
  },
  {
    id: "WB",
    name: "West Bengal",
    code: "WB",
    capital: "Kolkata",
    region: "East",
    population: 100600000,
    area: 88752,
    density: 1133,
    literacyRate: 83.8,
    sexRatio: 1049,
    gdp: 1880000,
    hdi: 0.674,
    cities: [
      { id: "ASN", name: "Asansol", stateId: "WB", population: 650000, area: 127, isCapital: false, isMetro: false, tier: 2 },
      { id: "SIL", name: "Siliguri", stateId: "WB", population: 620000, area: 42, isCapital: false, isMetro: false, tier: 2 },
      { id: "DUR", name: "Durgapur", stateId: "WB", population: 640000, area: 154, isCapital: false, isMetro: false, tier: 2 },
    ],
  },

  // === UNION TERRITORIES (8) ===
  {
    id: "AN",
    name: "Andaman and Nicobar Islands",
    code: "AN",
    capital: "Port Blair",
    region: "South",
    population: 420000,
    area: 8249,
    density: 51,
    literacyRate: 91.1,
    sexRatio: 914,
    gdp: 14000,
    hdi: 0.746,
    cities: [
      { id: "PBL", name: "Port Blair", stateId: "AN", population: 125000, area: 18, isCapital: true, isMetro: false, tier: 3 },
    ],
  },
  {
    id: "CH",
    name: "Chandigarh",
    code: "CH",
    capital: "Chandigarh",
    region: "North",
    population: 1200000,
    area: 114,
    density: 10526,
    literacyRate: 93.7,
    sexRatio: 938,
    gdp: 65000,
    hdi: 0.793,
    cities: [
    ],
  },
  {
    id: "DD",
    name: "Dadra and Nagar Haveli and Daman and Diu",
    code: "DD",
    capital: "Daman",
    region: "West",
    population: 620000,
    area: 603,
    density: 1028,
    literacyRate: 81.0,
    sexRatio: 817,
    gdp: 18000,
    hdi: 0.713,
    cities: [
      { id: "SLV", name: "Silvassa", stateId: "DD", population: 105000, area: 25, isCapital: false, isMetro: false, tier: 3 },
    ],
  },
  {
    id: "DL",
    name: "Delhi",
    code: "DL",
    capital: "New Delhi",
    region: "North",
    population: 22500000,
    area: 1484,
    density: 15160,
    literacyRate: 86.9,
    sexRatio: 913,
    gdp: 1300000,
    hdi: 0.777,
    cities: [
    ],
  },
  {
    id: "JK",
    name: "Jammu and Kashmir",
    code: "JK",
    capital: "Srinagar",
    region: "North",
    population: 14200000,
    area: 42241,
    density: 336,
    literacyRate: 77.0,
    sexRatio: 976,
    gdp: 300000,
    hdi: 0.760,
    cities: [
    ],
  },
  {
    id: "LA",
    name: "Ladakh",
    code: "LA",
    capital: "Leh",
    region: "North",
    population: 310000,
    area: 59146,
    density: 5,
    literacyRate: 80.0,
    sexRatio: 970,
    gdp: 9000,
    hdi: 0.700,
    cities: [
    ],
  },
  {
    id: "LD",
    name: "Lakshadweep",
    code: "LD",
    capital: "Kavaratti",
    region: "South",
    population: 72000,
    area: 32,
    density: 2250,
    literacyRate: 97.3,
    sexRatio: 1051,
    gdp: 3000,
    hdi: 0.751,
    cities: [
      { id: "KVT", name: "Kavaratti", stateId: "LD", population: 12000, area: 4, isCapital: true, isMetro: false, tier: 3 },
    ],
  },
  {
    id: "PY",
    name: "Puducherry",
    code: "PY",
    capital: "Puducherry",
    region: "South",
    population: 1550000,
    area: 479,
    density: 3236,
    literacyRate: 92.7,
    sexRatio: 1112,
    gdp: 55000,
    hdi: 0.782,
    cities: [
    ],
  },
];

export const india: Country = {
  id: "IN",
  name: "India",
  code: "IN",
  population: states.reduce((sum, s) => sum + s.population, 0),
  area: states.reduce((sum, s) => sum + s.area, 0),
  states,
};

export function getStateById(id: string): State | undefined {
  return states.find((s) => s.id === id);
}

export function getCityById(stateId: string, cityId: string) {
  const state = getStateById(stateId);
  return state?.cities.find((c) => c.id === cityId);
}

export function getTopStatesByMetric(
  metric: keyof Pick<State, "population" | "gdp" | "literacyRate" | "hdi" | "density">,
  limit = 10,
  ascending = false
): State[] {
  return [...states]
    .sort((a, b) => (ascending ? a[metric] - b[metric] : b[metric] - a[metric]))
    .slice(0, limit);
}

export function formatNumber(num: number): string {
  if (num >= 1000000000000) return (num / 1000000000000).toFixed(2) + " Lakh Cr";
  if (num >= 10000000) return (num / 10000000).toFixed(2) + " Cr";
  if (num >= 100000) return (num / 100000).toFixed(2) + " L";
  if (num >= 1000) return (num / 1000).toFixed(1) + "K";
  return num.toLocaleString("en-IN");
}

export function formatPopulation(pop: number): string {
  if (pop >= 10000000) return (pop / 10000000).toFixed(1) + " Cr";
  if (pop >= 100000) return (pop / 100000).toFixed(1) + " L";
  return pop.toLocaleString("en-IN");
}
